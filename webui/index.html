<!doctype html>
<meta charset="utf-8">
<title>FURA</title>
<style>
  body { font-family: system-ui, sans-serif; max-width: 860px; margin: 24px auto; padding: 0 16px; }
  h1 { margin-top: 0; }
  textarea, input { width: 100%; box-sizing: border-box; }
  .row { display: flex; gap: 8px; }
  .row > * { flex: 1; }
  #out { white-space: pre-wrap; background: #f6f6f6; padding: 12px; border-radius: 8px; min-height: 80px; }
</style>

<h1>Otec Fura</h1>

<div class="row">
  <input id="model" placeholder="model" value="llama3:8b">
  <button onclick="ask()">Odeslat</button>
</div>

<textarea id="msg" rows="6" placeholder="Zadej dotaz…"></textarea>

<h3>Odpověď</h3>
<pre id="out"></pre>

<script>
async function ask() {
  const body = {
    message: document.getElementById('msg').value,
    model: document.getElementById('model').value
  };
  const res = await fetch('/ask', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      // 'X-API-Key': 'SEM-DEJ-FURA-API-KEY-POKUD-POZDĚJI-ZAPNEŠ-OCHRANU'
    },
    body: JSON.stringify(body)
  });
  const data = await res.json().catch(() => ({}));
  document.getElementById('out').textContent = data.response || JSON.stringify(data, null, 2);
}
</script>
