<!doctype html>
<meta charset="utf-8">
<title>FURA</title>
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; max-width: 880px; margin: 2rem auto; padding: 0 1rem; }
  h1 { margin: 0 0 0.5rem 0; }
  .row { margin: 0.5rem 0; }
  textarea { width: 100%; }
  pre { background: #f6f8fa; padding: 1rem; border-radius: 6px; white-space: pre-wrap; }
  input, select, button { padding: .4rem .6rem; }
</style>

<h1>Otec Fura</h1>
<p>Rychlé UI pro dotazování přes <code>/ask</code> a <code>/v1/chat</code>.</p>

<div class="row">
  <label>Model:</label>
  <input id="model" value="llama3:8b" />
</div>

<div class="row">
  <label>Dotaz:</label><br/>
  <textarea id="message" rows="5" placeholder="Zadej dotaz…"></textarea>
</div>

<div class="row">
  <button onclick="callAsk()">Odeslat (/ask)</button>
  <button onclick="callChat()">Odeslat (/v1/chat)</button>
</div>

<h3>Odpověď</h3>
<pre id="out">(zatím nic)</pre>

<script>
async function callAsk(){
  const body = { message: document.getElementById('message').value, model: document.getElementById('model').value };
  const r = await fetch('/ask', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });
  document.getElementById('out').textContent = await r.text();
}
async function callChat(){
  const body = { model: document.getElementById('model').value, messages: [{role:'user', content: document.getElementById('message').value}] };
  const r = await fetch('/v1/chat', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });
  document.getElementById('out').textContent = await r.text();
}
</script>
